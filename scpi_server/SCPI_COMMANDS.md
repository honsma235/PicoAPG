# SCPI Command Reference for PICO APG

| Command | Parameters | Description | Details | Default | Status |
|---|---|---|---|---|---|
| `:OUTPut:STATe`<br>`:OUTPut:STATe?` | `<bool>` | Enable/disable output drivers | ON: outputs enabled (idle state when not running)<br>OFF: all outputs set to input/Hi-Z | False |  |
| `:ABORt` | - | Abort generation | Stops PWM and returns to IDLE (armed). Outputs remain enabled if OUTPut:STATe is ON | - |  |
| `:SOURce:PWM:MODE`<br>`:SOURce:PWM:MODE?` | `OFF\|ONEPH\|TWOPH\|THREEPH` | Set/Query PWM operating mode | OFF: disables PWM<br>ONEPH: single phase<br>TWOPH: two-phase<br>THREEPH: three-phase<br>Requires outputs OFF and PWM stopped. | OFF |  |
| `:SOURce:PWM:CONTrol`<br>`:SOURce:PWM:CONTrol?` | `DUTY\|MOD_ANGLE\|MOD_SPEED` | Set/Query control mode | DUTY: set DUTY cycle directly<br>MOD_ANGLE: set MODulation index & phase ANGLE<br>MOD_SPEED: set MODulation index & phase rotation SPEED<br>In ONEPH mode, only DUTY control is available.<br>Requires PWM stopped. | DUTY |  |
| `:SOURce:PWM:FREQuency`<br>`:SOURce:PWM:FREQuency?` | `<frequency>` | Set/Query PWM carrier frequency | Frequency in Hz<br>Requires PWM stopped.<br>Must be >= 2x current :SOURce:PWM:SPEED.<br>MIN=10, MAX=200000 | 10000 |  |
| `:SOURce:PWM:DEADtime`<br>`:SOURce:PWM:DEADtime?` | `<deadtime>` | Set/Query PWM deadtime | Deadtime in seconds between switching.<br>Added half to high-side and half to low-side.<br>Requires PWM stopped.<br>MIN=0, MAX=1 | 1E-6 |  |
| `:SOURce:PWM:MINDuty`<br>`:SOURce:PWM:MINDuty?` | `<min>` | Set/Query minimum duty cycle | Maximum is symmetrically limited to (1.0 - MIN).<br>Will be enforced in MOD_xx control modes too.<br>Requires PWM stopped.<br>MIN=0.0, MAX=0.4 | 0.05 |  |
| `:SOURce:PWM:PHase<n>:LS`<br>`:SOURce:PWM:PHase<n>:LS?`<br>n=1-3 | `<gpio>` | Set/Query low-side GPIO assignment | GPIO pin number<br>Use -1 for unused (will be set to input/Hi-Z).<br>Only 16 independent PWM channels are available on<br>GPIOs 0-15 which repeat on GPIOs 16-31, so you can<br>not use GPIO 0 and 16 (1 and 17, ...) at the same time.<br>Requires outputs OFF and PWM stopped.<br>MIN=-1, MAX=22 | -1 |  |
| `:SOURce:PWM:PHase<n>:HS`<br>`:SOURce:PWM:PHase<n>:HS?`<br>n=1-3 | `<gpio>` | Set/Query high-side GPIO assignment | GPIO pin number<br>Use -1 for unused (will be set to input/Hi-Z).<br>Only 16 independent PWM channels are available on<br>GPIOs 0-15 which repeat on GPIOs 16-31, so you can<br>not use GPIO 0 and 16 (1 and 17, ...) at the same time.<br>Requires outputs OFF and PWM stopped.<br>MIN=-1, MAX=22 | -1 |  |
| `:SOURce:PWM:PHase<n>:LS:INVert`<br>`:SOURce:PWM:PHase<n>:LS:INVert?`<br>n=1-3 | `<bool>` | Set/Query low-side GPIO inversion; Will also affect idle state | 0 or OFF: normal<br>1 or ON: inverted<br>Requires PWM stopped. | False |  |
| `:SOURce:PWM:PHase<n>:HS:INVert`<br>`:SOURce:PWM:PHase<n>:HS:INVert?`<br>n=1-3 | `<bool>` | Set/Query high-side GPIO inversion; Will also affect idle state | 0 or OFF: normal<br>1 or ON: inverted<br>Requires PWM stopped. | False |  |
| `:SOURce:PWM:PHase<n>:LS:IDLe`<br>`:SOURce:PWM:PHase<n>:LS:IDLe?`<br>n=1-3 | `<bool>` | Set/Query low-side idle output state | 0 or OFF: output low when PWM not running<br>1 or ON: output high when pwm not running<br>Requires PWM stopped. | False |  |
| `:SOURce:PWM:PHase<n>:HS:IDLe`<br>`:SOURce:PWM:PHase<n>:HS:IDLe?`<br>n=1-3 | `<bool>` | Set/Query high-side idle output state | 0 or OFF: output low when PWM not running<br>1 or ON: output high when pwm not running<br>Requires PWM stopped. | False |  |
| `:SOURce:PWM:PHase<n>:DUTY`<br>`:SOURce:PWM:PHase<n>:DUTY?`<br>n=1-3 | `<duty>` | Set/Query duty-cycle | Use fraction (0.0 to 1.0)<br>0.0 = LS always on, 1.0 = HS always on<br>MIN=0.0, MAX=1.0 | 0.5 |  |
| `:SOURce:PWM:MOD`<br>`:SOURce:PWM:MOD?` | `<mod>` | Set/Query modulation index | Modulation index for SPWM (0.0 to 1.0)<br>The generated duty cycle will be: 0.5 + 0.5 * MOD * sin(angle), but capped to respect MIN/MAX duty cycle.<br>MIN=0.0, MAX=1.0 | 0 |  |
| `:SOURce:PWM:ANGLE`<br>`:SOURce:PWM:ANGLE?` | `<angle>` | Set/Query SPWM angle | Phase angle in degrees (wraps at 360°)<br>0° = Phase 1 high | 0 |  |
| `:SOURce:PWM:SPEED`<br>`:SOURce:PWM:SPEED?` | `<speed>` | Set/Query SPWM rotation speed | Rotation speed of SPWM phase in Hz (one rotation per second)<br>Must be <= :SOURce:PWM:FREQuency/2.<br>MIN=1E-3, MAX=100000 | 1 |  |
| `:SOURce:BURSt:TYPE`<br>`:SOURce:BURSt:TYPE?` | `CONTinuous\|NCYCles\|DURation` | Set/Query burst type | CONTINUOUS: run until stopped<br>NCYCLES: run N cycles then auto-stop<br>TIMED: run for duration then auto-stop<br>Requires PWM stopped. | CONTinuous |  |
| `:SOURce:BURSt:NCYCles`<br>`:SOURce:BURSt:NCYCles?` | `<ncycles>` | Set/Query number of PWM cycles to generate | Number of complete PWM cycles to generate before auto-stopping (used with burst type NCYCles)<br>Requires PWM stopped.<br>MIN=1, MAX=4000000000 | 1 |  |
| `:SOURce:BURSt:DURation`<br>`:SOURce:BURSt:DURation?` | `<duration>` | Set/Query PWM run duration | Time in seconds to run PWM before auto-stopping (used with burst type DURation)<br>Requires PWM stopped.<br>MIN=0.0001, MAX=3600.0 | 0.01 |  |
| `:TRIGger:SOURce`<br>`:TRIGger:SOURce?` | `BUS` | Set/Query trigger source | BUS: trigger via *TRG<br>Requires PWM stopped. | BUS |  |
| `:TRIGger:DELay`<br>`:TRIGger:DELay?` | `<delay>` | Set/Query trigger delay | Time in seconds to wait after trigger signal before PWM starts<br>Requires PWM stopped.<br>MIN=0.0, MAX=1000.0 | 0.0 |  |
| `*TRG` | - | IEEE-488 bus trigger | Bus trigger signal<br>Requires :TRIGger:SOURce to be set to BUS. | - |  |
